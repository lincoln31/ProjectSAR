<div class="register-page-wrapper">
    <div class="register-container">
      <div class="form-section-register">
        <h2 class="register-title">REGISTRO DE NUEVO USUARIO</h2>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form-actual">
          
          <mat-form-field appearance="outline" class="full-width-field">
            <mat-label>Nombre de Usuario</mat-label>
            <input matInput formControlName="username" required>
            <mat-error *ngIf="registerForm.get('username')?.hasError('required')">El nombre de usuario es requerido.</mat-error>
            <mat-error *ngIf="registerForm.get('username')?.hasError('minlength')">Debe tener al menos 3 caracteres.</mat-error>
            <mat-error *ngIf="registerForm.get('username')?.hasError('maxlength')">No debe exceder los 50 caracteres.</mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="full-width-field">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" required>
            <mat-error *ngIf="registerForm.get('email')?.hasError('required')">El email es requerido.</mat-error>
            <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Debe ser un email válido.</mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="full-width-field">
            <mat-label>Contraseña</mat-label>
            <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" required>
            <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
              <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="registerForm.get('password')?.hasError('required')">La contraseña es requerida.</mat-error>
            <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">Debe tener al menos 6 caracteres.</mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="full-width-field">
            <mat-label>Nombre</mat-label>
            <input matInput formControlName="firstName" required>
            <mat-error *ngIf="registerForm.get('firstName')?.hasError('required')">El nombre es requerido.</mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="full-width-field">
            <mat-label>Apellido</mat-label>
            <input matInput formControlName="lastName" required>
            <mat-error *ngIf="registerForm.get('lastName')?.hasError('required')">El apellido es requerido.</mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="full-width-field">
            <mat-label>Teléfono (Opcional)</mat-label>
            <input matInput formControlName="phone">
          </mat-form-field>
  
          <!-- Opcional: Selección de Roles (ejemplo con checkboxes o mat-select) -->
          <!-- <div class="form-group roles-group">
            <label class="roles-label">Roles (Opcional):</label>
            <mat-checkbox formControlName="roleAdmin">Administrador</mat-checkbox>
            <mat-checkbox formControlName="roleResidente" [checked]="true">Residente</mat-checkbox> 
          </div> -->
  
  
          <button mat-raised-button
                  type="submit"
                  class="submit-btn-register"
                  [disabled]="registerForm.invalid || isLoading">
            <span *ngIf="!isLoading">Registrar</span>
            <mat-progress-spinner *ngIf="isLoading"
                                  mode="indeterminate"
                                  diameter="24"
                                  class="submit-spinner">
            </mat-progress-spinner>
          </button>
  
          <div class="login-link">
            ¿Ya tienes una cuenta? <a routerLink="/auth/login">Inicia Sesión</a>
          </div>
  
        </form>
      </div>
      <div class="logo-section-register">
        <img src="assets/images/logo.png" alt="Logo Empresa" class="logo"/>
        <h1 class="brand-name">REAL ESTATE</h1>
        <p class="slogan">Tu solución integral de administración</p>
      </div>
    </div>
  </div>